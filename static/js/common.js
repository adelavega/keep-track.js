// Generated by CoffeeScript 1.6.3
(function() {
  var Debriefing, Questionnaire, mean, psiTurk;

  psiTurk = PsiTurk(uniqueId, adServerLoc);

  psiTurk.preloadPages(['postquestionnaire.html', 'debriefing.html']);

  mean = function(numericArray) {
    var avg, sum;
    sum = numericArray.reduce(function(a, b) {
      return a + b;
    });
    avg = sum / numericArray.length;
    return avg;
  };

  Questionnaire = (function() {
    function Questionnaire() {}

    Questionnaire.prototype.start = function(exitTrial) {
      this.exitTrial = exitTrial;
      return $('body').html(psiTurk.getPage('postquestionnaire.html'));
    };

    Questionnaire.prototype.buttonClick = function() {
      $("select").each(function(i, val) {
        psiTurk.recordUnstructuredData(this.id, this.value);
        return console.log([this.id, this.value]);
      });
      psiTurk.recordUnstructuredData('openended', $('#openended').val());
      return this.exitTrial();
    };

    return Questionnaire;

  })();

  Debriefing = (function() {
    function Debriefing() {}

    Debriefing.prototype.start = function(exitTrial) {
      this.exitTrial = exitTrial;
      return $('body').html(psiTurk.getPage('debriefing.html'));
    };

    Debriefing.prototype.buttonClick = function() {
      return this.exitTrial();
    };

    return Debriefing;

  })();

  this.psiTurk = psiTurk;

  this.common = {
    Questionnaire: Questionnaire,
    Debriefing: Debriefing,
    mean: mean
  };

}).call(this);
